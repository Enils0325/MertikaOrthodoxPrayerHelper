
@{
    var psalms = Psalms;
    if (IsBrief)
    {
        psalms = psalms.Where(p => p.Text.Length < 1000);
    }

    var index = MainUtil.GetRandomIndex(psalms.Count());
    var psalm = psalms.ElementAt(index);

    <Heading HeadingKind="HeadingKind">
        Psalm @(PsalmNumber)
    </Heading>

    <p>
        @(psalm.Text)
    </p>
}

@code {
    [Parameter, EditorRequired]
    public HeadingKindEnum HeadingKind { get; set; }
    
    [Parameter, EditorRequired]
    public bool IsBrief { get; set; }

    private int PsalmNumber { get; set; }

    private IEnumerable<PslamInfo> Psalms = [
        new PslamInfo { Number = 23, Text = "The Lord is my shepherd; I shall not want. He makes me lie down in green pastures. He leads me beside still waters. He restores my soul. He leads me in paths of righteousness for His name's sake. Even though I walk through the valley of the shadow of death, I will fear no evil, for You are with me; Your rod and Your staff, they comfort me. You prepare a table before me in the presence of my enemies; You anoint my head with oil; my cup overflows. Surely goodness and mercy shall follow me all the days of my life, and I shall dwell in the house of the Lord forever." },
        new PslamInfo { Number = 34, Text = "I will bless the Lord at all times; His praise shall continually be in my mouth. My soul makes its boast in the Lord; let the afflicted hear and be glad. O magnify the Lord with me, and let us exalt His name together! I sought the Lord and He answered me, and delivered me from all my fears. Look to Him and be radiant, so your faces shall never be ashamed. This poor man cried, and the Lord heard him, and saved him out of all his troubles. The angel of the Lord encamps around those who fear Him, and delivers them. O taste and see that the Lord is good! Happy is the man who takes refuge in Him! O fear the Lord, you His saints, for those who fear Him have no want! The young lions suffer want and hunger; but those who seek the Lord lack no good thing. Come, O sons, listen to me; I will teach you the fear of the Lord. What man is there who desires life, and covets many days, that he may enjoy good? Keep your tongue from evil, and your lips from speaking deceit. Depart from evil, and do good; seek peace, and pursue it. The eyes of the Lord are toward the righteous, and His ears toward their cry. The face of the Lord is against evildoers, to cut off the remembrance of them from the earth. When the righteous cry for help, the Lord hears and delivers them out of all their troubles. The Lord is near to the brokenhearted, and saves the crushed in spirit. Many are the afflictions of the righteous; but the Lord delivers him out of them all. He keeps all his bones; not one of them is broken. Evil shall slay the wicked; and those who hate the righteous will be condemned. The Lord redeems the life of His servants; none of those who take refuge in Him will be condemned." },
        new PslamInfo { Number = 39, Text = "I said, “I will guard my ways, that I may not sin with my tongue; I will bridle my mouth, so long as the wicked are in my presence.” I was dumb and silent, I held my peace to no avail; my distress grew worse, my heart became hot within me. As I mused, the fire burned; then I spoke with my tongue: “Lord, let me know my end, and what is the measure of my days; let me know how fleeting my life is! Behold, Thou hast made my life a few handbreadths, and my lifetime is as nothing in Thy sight. Surely every man stands as a breath! Surely man goes about as a shadow! Surely for nought are they in turmoil; man heaps up, and knows not who will gather! And now, Lord, for what do I wait? My hope is in Thee. Deliver me from all my transgressions. Make me not the scorn of the fool! I am dumb, I do not open my mouth; for it is Thee who hast done it. Remove Thy stroke from me; I am spent by the blows of Thy hand. When Thou dost chasten a man with rebukes for sin, Thou dost consume like a moth what is dear to him; surely every man is mere breath! Hear my prayer, O Lord, and give ear to my cry; hold not Thy peace at my tears! For I am Thy passing guest, a sojourner, like all my fathers. Look away from me, that I may know gladness, before I depart and be no more!”" },
        new PslamInfo { Number = 42, Text = "As a hart longs for flowing streams, so longs my soul for Thee, O God. My soul thirsts for God, for the living God. When shall I come and behold the face of God? My tears have been my food day and night, while men say to me continually, “Where is your God?” These things I remember, as I pour out my soul: how I went with the throng and led them in procession to the House of God, with glad shouts and songs of thanksgiving, a multitude keeping festival. Why are you cast down, O my soul, and why are you disquieted within me? Hope in God; for I shall again praise Him, my help and my God! My soul is cast down within me; therefore I remember Thee from the land of Jordan and of Hermon, from Mount Mizar. Deep calls to deep at the thunder of Thy cataracts; all Thy waves and billows have gone over me. By day the Lord commands His steadfast love; and at night His song is with me, a prayer to the God of my life. I say to God my rock: “Why hast Thou forgotten me? Why go I mourning because of the oppression of the enemy?” As with a deadly wound to my body, my adversaries taunt me, while they say to me continually, “Where is your God?” Why are you cast down, O my soul, and why are you disquieted within me? Hope in God; for I shall again praise Him, my help and my God!" },
        new PslamInfo { Number = 67, Text = "May God be gracious to us and bless us and make His face to shine upon us, that Thy way may be known upon earth, Thy saving power among all nations. Let the peoples praise Thee, O God; let all the peoples praise Thee! Let the nations be glad and sing for joy, for Thou dost judge the peoples with equity and guide the nations upon earth. Let the peoples praise Thee, O God; let all the peoples praise Thee! The earth has yielded its increase; God, our God, shall bless us. God shall bless us; let all the ends of the earth fear Him!" },
        new PslamInfo { Number = 84, Text = "How lovely is Thy dwelling place, O Lord of Hosts! My soul longs, yea, faints for the courts, of the Lord! My heart and flesh sing for joy to the living God! Even the sparrow finds a home, and the swallow a nest for herself, where she may lay her young, at Thy altars, O Lord of Hosts, my King and my God! Blessed are those who dwell in Thy house, ever singing Thy praise! Blessed are the men whose strength is in Thee, in whose heart are the highways to Zion. As they go through the valleys of Baca they make it a place of springs; the early rain also covers it with pools. They go from strength to strength; the God of gods will be seen in Zion. O Lord God of Hosts, hear my prayer; give ear, O God of Jacob! Behold our shield, O God; look upon the face of Thine anointed! For a day in Thy courts is better than a thousand elsewhere. I would rather be a doorkeeper in the house of my God than dwell in the tents of wickedness. For the Lord God is a sun and shield; He bestows favor and honor. No good thing does the Lord withhold from those who walk uprightly. O Lord of Hosts, blessed is the man who trusts in Thee!" },
        new PslamInfo { Number = 134, Text = "Come, bless the Lord, all you servants of the Lord, who stand by night in the house of the Lord! Lift up your hands to the holy place and bless the Lord! May the Lord bless you from Zion, He who made heaven and earth!" },
        new PslamInfo { Number = 138, Text = "I give Thee thanks, O Lord, with my whole heart; before the gods I sing Thy praise! I bow down toward Thy holy temple and give thanks to Thy name for Thy steadfast love and Thy faithfulness! For Thou hast exalted above everything Thy name and Thy word. On the day I called, Thou didst answer me, my strength of soul Thou didst increase. All the kings of the earth shall praise Thee, O Lord, for they have heard the words of Thy mouth; and they shall sing of the ways of the Lord, for great is the glory of the Lord. For though the Lord is high, He regards the lowly; but the haughty He knows from afar. Though I walk in the midst of trouble, Thou dost preserve my life; Thou dost stretch out Thy hand against the wrath of my enemies, and Thy right hand delivers me. The Lord will fulfill His purpose for me; Thy steadfast love, O Lord, endures forever. Do not forsake the work of Thy hands." },
        new PslamInfo { Number = 148, Text = "Praise the Lord! Praise the Lord from the heavens, praise Him in the heights! Praise Him, all His angels! Praise Him, all His host! Praise Him, sun and moon! Praise Him, all you shining stars! Praise Him, you highest heavens, and you waters above the heavens! Let them praise the name of the Lord! For He commanded and they were created. And He established them for ever and ever; He fixed their bounds which cannot be passed. Praise the Lord from earth, you sea monsters and all deeps, fire and hail, snow and frost, stormy wind fulfilling His command! Mountains and all hills, fruit trees and all cedars! Beasts and all cattle, creeping things and flying birds! Kings of the earth and all peoples, princes and all rulers of the earth! Young men and maidens together, old men and children! Let them praise the name of the Lord, for His name alone is exalted; His glory is above earth and heaven. He has raised up a horn for His people, praise for all His saints, for the people of Israel who are near Him. Praise The Lord!" },
    ];

    private class PslamInfo
    {
        public int Number { get; set; }
        public string Text { get; set; } = null!;
    }
}
